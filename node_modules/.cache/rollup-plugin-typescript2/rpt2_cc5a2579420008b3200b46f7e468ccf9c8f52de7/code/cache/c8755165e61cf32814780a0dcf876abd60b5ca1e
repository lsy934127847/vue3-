{"code":"import { isObject } from \"../../shared/src/index\";\r\nimport { reactive, readonly } from \"./reactive\";\r\nconst get = createGetter();\r\nconst readonlyGet = createGetter(true); // 仅读get\r\nconst shallowGet = createGetter(false, true); //\r\nconst shallowReadonlyGet = createGetter(true, true);\r\nconst set = createSetter();\r\nfunction createSetter() {\r\n    return function set(target, key, value, receiver) {\r\n        let res = Reflect.set(target, key, value, receiver);\r\n        // 触发视图更新\r\n        return res;\r\n    };\r\n}\r\nfunction createGetter(isReadonly = false, shallow = false) {\r\n    // 目标 属性 代理对象\r\n    return function get(target, key, receiver) {\r\n        let res = Reflect.get(target, key, receiver);\r\n        if (!isReadonly) {\r\n            // 不是仅读 才去搜集依赖\r\n        }\r\n        if (shallow) {\r\n            return res;\r\n        }\r\n        if (isObject(res)) { // 如果是对象就递归代理 当用到这个对象的时候才去代理\r\n            // {name:\"lsy\",age:{p1:25}} 当取到age的时候才去代理\r\n            return isReadonly ? readonly(res) : reactive(res); // 懒代理\r\n        }\r\n        return res;\r\n    };\r\n}\r\nexport const mutableHandlers = {\r\n    //\r\n    get,\r\n};\r\nexport const shallowReaciveHandlers = {\r\n    get: shallowGet,\r\n};\r\nexport const readonlyHandlers = {\r\n    get: readonlyGet,\r\n};\r\nexport const shallowReadonlyHandlers = {\r\n    get: shallowReadonlyGet,\r\n};\r\n//# sourceMappingURL=baseHandlers.js.map","references":["D:/vue3/packages/shared/src/index.ts","D:/vue3/packages/reactivity/src/reactive.ts"],"map":"{\"version\":3,\"file\":\"baseHandlers.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../packages/reactivity/src/baseHandlers.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAE,QAAQ,EAAE,MAAM,wBAAwB,CAAC;AAClD,OAAO,EAAE,QAAQ,EAAE,QAAQ,EAAE,MAAM,YAAY,CAAC;AAEhD,MAAM,GAAG,GAAG,YAAY,EAAE,CAAC;AAC3B,MAAM,WAAW,GAAG,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ;AAChD,MAAM,UAAU,GAAG,YAAY,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE;AAChD,MAAM,kBAAkB,GAAG,YAAY,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;AAEpD,MAAM,GAAG,GAAG,YAAY,EAAE,CAAA;AAG1B,SAAS,YAAY;IACnB,OAAO,SAAS,GAAG,CAAC,MAAM,EAAC,GAAG,EAAC,KAAK,EAAC,QAAQ;QAC3C,IAAI,GAAG,GAAG,OAAO,CAAC,GAAG,CAAC,MAAM,EAAC,GAAG,EAAC,KAAK,EAAC,QAAQ,CAAC,CAAA;QAEhD,SAAS;QACR,OAAO,GAAG,CAAA;IACb,CAAC,CAAA;AACH,CAAC;AAED,SAAS,YAAY,CAAC,UAAU,GAAG,KAAK,EAAE,OAAO,GAAG,KAAK;IACvD,aAAa;IACb,OAAO,SAAS,GAAG,CAAC,MAAM,EAAE,GAAG,EAAE,QAAQ;QACvC,IAAI,GAAG,GAAG,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,GAAG,EAAE,QAAQ,CAAC,CAAC;QAE7C,IAAI,CAAC,UAAU,EAAE;YACf,cAAc;SACf;QACD,IAAI,OAAO,EAAE;YACX,OAAO,GAAG,CAAC;SACZ;QAED,IAAI,QAAQ,CAAC,GAAG,CAAC,EAAE,EAAG,4BAA4B;YAChD,yCAAyC;YACzC,OAAO,UAAU,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,MAAM;SAC1D;QAED,OAAO,GAAG,CAAA;IACZ,CAAC,CAAC;AACJ,CAAC;AAGD,MAAM,CAAC,MAAM,eAAe,GAAG;IAC7B,EAAE;IAEF,GAAG;CACJ,CAAC;AACF,MAAM,CAAC,MAAM,sBAAsB,GAAG;IACpC,GAAG,EAAE,UAAU;CAChB,CAAC;AACF,MAAM,CAAC,MAAM,gBAAgB,GAAG;IAC9B,GAAG,EAAE,WAAW;CACjB,CAAC;AACF,MAAM,CAAC,MAAM,uBAAuB,GAAG;IACrC,GAAG,EAAE,kBAAkB;CACxB,CAAC\"}"}
